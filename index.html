<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ªæ˜ ä¼šå‘˜ SMS ç•Œé¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        body {
            background-color: #fff;
        }
        /* VIPä¿¡æ¯åŒº */
        .vip-section {
            background-color: #3674ff;
            color: #fff;
            padding: 15px;
        }
        .vip-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .vip-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #e0efff;
        }
        /* å…¬å‘ŠåŒº */
        .notice-section {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        .notice-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .notice-icon {
            color: #3674ff;
            margin-right: 8px;
        }
        .notice-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }
        .notice-content {
            font-size: 14px;
            color: #333;
            margin-bottom: 5px;
        }
        .notice-link {
            font-size: 14px;
            color: #666;
            text-decoration: none;
        }
        /* æ‰‹æœºå·åŒº */
        .phone-section {
            padding: 15px;
        }
        .phone-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .phone-input-area {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        .phone-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            color: #333;
            background-color: #f5f5f5;
        }
        .get-btn {
            background-color: #999;
            color: #fff;
            border: none;
            padding: 0 20px;
            border-radius: 6px;
            font-size: 14px;
            cursor: not-allowed;
        }
        /* æç¤ºåŒº */
        .tips-section {
            background-color: #f7f9ff;
            border: 1px solid #e0efff;
            border-radius: 6px;
            padding: 10px;
        }
        .tips-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .tips-icon {
            color: #3674ff;
            margin-right: 8px;
        }
        .tips-title {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }
        .tips-list {
            font-size: 13px;
            color: #666;
        }
        .tips-list li {
            margin-bottom: 5px;
        }
        /* çŸ­ä¿¡éªŒè¯ç åŒº */
        .sms-section {
            padding: 15px;
        }
        .sms-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .sms-content-area {
            background-color: #f7f9ff;
            border-radius: 6px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 60px;
        }
        .sms-code {
            font-size: 20px;
            font-weight: bold;
            color: #3674ff;
        }
        .copy-btn {
            background-color: #999;
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 14px;
            cursor: not-allowed;
        }
        /* åº•éƒ¨å¯¼èˆª */
        .nav-bar {
            background-color: #f5f5f5;
            padding: 10px 0;
            display: flex;
            justify-content: center;
            gap: 40px;
        }
        .nav-btn {
            font-size: 20px;
            color: #666;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- VIPä¿¡æ¯åŒº -->
    <div class="vip-section">
        <div class="vip-title">å‰ªæ˜ ä¼šå‘˜</div>
        <div class="vip-info">
            <span>å¡å¯†ç±»å‹ å¤©å¡</span>
            <span id="expireTime">åˆ°æœŸæ—¶é—´ </span>
            <span id="remainingTimes">å‰©ä½™æ¬¡æ•° 1</span>
        </div>
    </div>

    <!-- å…¬å‘ŠåŒº -->
    <div class="notice-section">
        <div class="notice-header">
            <span class="notice-icon">ğŸ””</span>
            <span class="notice-title">æœ€æ–°å…¬å‘Š</span>
        </div>
        <div class="notice-content">å‰ªæ˜ ç™»å½•æ•™ç¨‹åŠå¸¸è§é—®é¢˜</div>
        <a href="https://sourl.cn/CrTARJ" class="notice-link" target="_blank">https://sourl.cn/CrTARJ</a>
    </div>

    <!-- æ‰‹æœºå·åŒºï¼ˆå›ºå®šä¸º15137969626ï¼‰ -->
    <div class="phone-section">
        <div class="phone-title">æ‰‹æœºå·ç </div>
        <div class="phone-input-area">
            <input type="text" class="phone-input" id="phoneInput" value="15137969626" readonly>
            <button class="get-btn" disabled>å·ç å·²å›ºå®š</button>
        </div>
        <!-- æç¤ºåŒº -->
        <div class="tips-section">
            <div class="tips-header">
                <span class="tips-icon">â„¹ï¸</span>
                <span class="tips-title">æ¸©é¦¨æç¤º</span>
            </div>
            <ul class="tips-list">
                <li>å½“å‰æ‰‹æœºå·ï¼š15137969626ï¼Œç‚¹å‡»å¯å¤åˆ¶</li>
                <li>ä½¿ç”¨è¯¥æ‰‹æœºå·åœ¨ç¬¬ä¸‰æ–¹è·å–éªŒè¯ç åï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æ¥æ”¶å¹¶å¡«å……</li>
            </ul>
        </div>
    </div>

    <!-- çŸ­ä¿¡éªŒè¯ç åŒºï¼ˆåˆå§‹ä¸ºç©ºï¼Œç«¯å£æ¥æ”¶åè‡ªåŠ¨å¡«å……ï¼‰ -->
    <div class="sms-section">
        <div class="sms-title">çŸ­ä¿¡éªŒè¯ç </div>
        <div class="sms-content-area">
            <span class="sms-code" id="smsCode">â€”â€”</span> <!-- åˆå§‹ä¸ºç©º -->
            <button class="copy-btn" id="copyBtn">å¤åˆ¶éªŒè¯ç </button>
        </div>
    </div>

    <!-- åº•éƒ¨å¯¼èˆª -->
    <div class="nav-bar">
        <span class="nav-btn">ï¼œ</span>
        <span class="nav-btn">ï¼</span>
    </div>

    <script>
        // DOMå…ƒç´ è·å–
        const expireTimeEl = document.getElementById('expireTime');
        const remainingTimesEl = document.getElementById('remainingTimes');
        const smsCodeEl = document.getElementById('smsCode');
        const copyBtnEl = document.getElementById('copyBtn');
        const phoneInputEl = document.getElementById('phoneInput');

        // 1. è®¾ç½®åŠ¨æ€åˆ°æœŸæ—¶é—´ï¼ˆå½“å‰æ—¶é—´+1åˆ†é’Ÿï¼‰
        function setExpireTime() {
            const now = new Date();
            now.setMinutes(now.getMinutes() + 1);
            const [year, month, day, hour, minute, second] = [
                now.getFullYear(),
                String(now.getMonth() + 1).padStart(2, '0'),
                String(now.getDate()).padStart(2, '0'),
                String(now.getHours()).padStart(2, '0'),
                String(now.getMinutes()).padStart(2, '0'),
                String(now.getSeconds()).padStart(2, '0')
            ];
            expireTimeEl.textContent = `åˆ°æœŸæ—¶é—´ ${year}/${month}/${day} ${hour}:${minute}:${second}`;
        }
        setExpireTime();

        // 2. çœŸå®ç«¯å£æ¥æ”¶é€»è¾‘ï¼ˆå¯¹æ¥ä½ çš„ç½‘ç«™åç«¯ï¼Œæ¯3ç§’æ‹‰å–ä¸€æ¬¡æœ€æ–°éªŒè¯ç ï¼‰
        function fetchSmsCodeFromPort() {
            // æ›¿æ¢ä¸ºä½ çš„ç½‘ç«™åç«¯æ¥å£åœ°å€ï¼ˆéœ€è¿”å›{ code: "6ä½éªŒè¯ç " }æ ¼å¼ï¼‰
            const yourBackendApi = "https://ä½ çš„ç½‘ç«™åŸŸå/æ¥å£è·¯å¾„?phone=15137969626";
            
            fetch(yourBackendApi)
                .then(res => res.json())
                .then(data => {
                    // æ¥å£è¿”å›æœ‰æ•ˆéªŒè¯ç æ—¶ï¼Œæ›´æ–°ç•Œé¢
                    if (data.code && /^\d{6}$/.test(data.code)) {
                        smsCodeEl.textContent = data.code;
                        // å¯ç”¨å¤åˆ¶æŒ‰é’®
                        copyBtnEl.style.backgroundColor = '#3674ff';
                        copyBtnEl.style.cursor = 'pointer';
                        // æ›´æ–°å‰©ä½™æ¬¡æ•°ä¸º0
                        remainingTimesEl.textContent = 'å‰©ä½™æ¬¡æ•° 0';
                        // åœæ­¢ç»§ç»­æ‹‰å–ï¼ˆé¿å…é‡å¤æ›´æ–°ï¼‰
                        clearInterval(fetchInterval);
                    }
                })
                .catch(err => console.log('ç«¯å£æ‹‰å–éªŒè¯ç å¤±è´¥ï¼š', err));
        }

        // å¯åŠ¨ç«¯å£æ‹‰å–ï¼ˆæ¯3ç§’æŸ¥è¯¢ä¸€æ¬¡ï¼Œç›´åˆ°è·å–åˆ°éªŒè¯ç ï¼‰
        const fetchInterval = setInterval(fetchSmsCodeFromPort, 3000);

        // 3. å¤åˆ¶éªŒè¯ç åŠŸèƒ½
        copyBtnEl.addEventListener('click', () => {
            const code = smsCodeEl.textContent;
            if (code === 'â€”â€”') {
                alert('è¯·ç­‰å¾…éªŒè¯ç æ¥æ”¶');
                return;
            }
            navigator.clipboard.writeText(code).then(() => alert('éªŒè¯ç å·²å¤åˆ¶')).catch(err => alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©'));
        });

        // 4. å¤åˆ¶æ‰‹æœºå·åŠŸèƒ½
        phoneInputEl.addEventListener('click', () => {
            navigator.clipboard.writeText(phoneInputEl.value).then(() => alert('æ‰‹æœºå·å·²å¤åˆ¶')).catch(err => alert('å¤åˆ¶å¤±è´¥'));
        });
    </script>
</body>
</html>