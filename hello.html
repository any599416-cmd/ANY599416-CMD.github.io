<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ªæ˜ ä¼šå‘˜ SMS ç•Œé¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        body {
            background-color: #fff;
        }
        /* VIPä¿¡æ¯åŒºæ ·å¼ */
        .vip-section {
            background-color: #3674ff;
            color: #fff;
            padding: 15px;
        }
        .vip-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .vip-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #e0efff;
        }
        /* å…¬å‘ŠåŒºæ ·å¼ */
        .notice-section {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        .notice-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .notice-icon {
            color: #3674ff;
            margin-right: 8px;
        }
        .notice-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }
        .notice-content {
            font-size: 14px;
            color: #333;
            margin-bottom: 5px;
        }
        .notice-link {
            font-size: 14px;
            color: #666;
            text-decoration: none;
        }
        /* æ‰‹æœºå·åŒºæ ·å¼ */
        .phone-section {
            padding: 15px;
        }
        .phone-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .phone-input-area {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        .phone-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            color: #999;
            background-color: #f5f5f5;
        }
        .get-btn {
            background-color: #3674ff;
            color: #fff;
            border: none;
            padding: 0 20px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }
        /* æç¤ºåŒºæ ·å¼ */
        .tips-section {
            background-color: #f7f9ff;
            border: 1px solid #e0efff;
            border-radius: 6px;
            padding: 10px;
        }
        .tips-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .tips-icon {
            color: #3674ff;
            margin-right: 8px;
        }
        .tips-title {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }
        .tips-list {
            font-size: 13px;
            color: #666;
        }
        .tips-list li {
            margin-bottom: 5px;
        }
        /* çŸ­ä¿¡åŒºæ ·å¼ */
        .sms-section {
            padding: 15px;
        }
        .sms-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .sms-content-area {
            background-color: #f7f9ff;
            border-radius: 6px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 60px; /* ç©ºçŠ¶æ€ä¿æŒåŒºåŸŸé«˜åº¦ */
        }
        .sms-code {
            font-size: 20px;
            font-weight: bold;
            color: #3674ff;
        }
        .copy-btn {
            background-color: #999; /* åˆå§‹ç¦ç”¨çŠ¶æ€ */
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 14px;
            cursor: not-allowed; /* åˆå§‹ç¦ç”¨å…‰æ ‡ */
        }
        /* åº•éƒ¨å¯¼èˆªæ ·å¼ */
        .nav-bar {
            background-color: #f5f5f5;
            padding: 10px 0;
            display: flex;
            justify-content: center;
            gap: 40px;
        }
        .nav-btn {
            font-size: 20px;
            color: #666;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- VIPä¿¡æ¯åŒº -->
    <div class="vip-section">
        <div class="vip-title">å‰ªæ˜ ä¼šå‘˜</div>
        <div class="vip-info">
            <span>å¡å¯†ç±»å‹ å¤©å¡</span>
            <span id="expireTime">åˆ°æœŸæ—¶é—´ </span> <!-- åŠ¨æ€åˆ°æœŸæ—¶é—´ -->
            <span id="remainingTimes">å‰©ä½™æ¬¡æ•° 1</span> <!-- å‰©ä½™æ¬¡æ•° -->
        </div>
    </div>

    <!-- å…¬å‘ŠåŒº -->
    <div class="notice-section">
        <div class="notice-header">
            <span class="notice-icon">ğŸ””</span>
            <span class="notice-title">æœ€æ–°å…¬å‘Š</span>
        </div>
        <div class="notice-content">å‰ªæ˜ ç™»å½•æ•™ç¨‹åŠå¸¸è§é—®é¢˜</div>
        <a href="https://sourl.cn/CrTARJ" class="notice-link" target="_blank">https://sourl.cn/CrTARJ</a>
    </div>

    <!-- æ‰‹æœºå·åŒº -->
    <div class="phone-section">
        <div class="phone-title">æ‰‹æœºå·ç </div>
        <div class="phone-input-area">
            <input type="text" class="phone-input" id="phoneInput" placeholder="è¯·å…ˆè·å–å·ç " readonly>
            <button class="get-btn" id="getPhoneBtn">è·å–/æ›´æ¢</button>
        </div>
        <!-- æ¸©é¦¨æç¤º -->
        <div class="tips-section">
            <div class="tips-header">
                <span class="tips-icon">â„¹ï¸</span>
                <span class="tips-title">æ¸©é¦¨æç¤º</span>
            </div>
            <ul class="tips-list">
                <li>ç‚¹å‡»å·ç å³å¯è‡ªåŠ¨å¤åˆ¶</li>
                <li>åˆ·æ–°é¡µé¢å¯é‡æ–°ç»§ç»­è·å–éªŒè¯ç </li>
            </ul>
        </div>
    </div>

    <!-- çŸ­ä¿¡å†…å®¹åŒº -->
    <div class="sms-section">
        <div class="sms-title">çŸ­ä¿¡å†…å®¹</div>
        <div class="sms-content-area">
            <span class="sms-code" id="smsCode"></span> <!-- åˆå§‹ä¸ºç©ºï¼Œè·å–åå¡«å……éªŒè¯ç  -->
            <button class="copy-btn" id="copyBtn">å¤åˆ¶éªŒè¯ç </button>
        </div>
    </div>

    <!-- åº•éƒ¨å¯¼èˆª -->
    <div class="nav-bar">
        <span class="nav-btn">ï¼œ</span>
        <span class="nav-btn">ï¼</span>
    </div>

    <script>
        // çŠ¶æ€å˜é‡
        let hasGotPhone = false; // æ˜¯å¦å·²è·å–æ‰‹æœºå·
        let hasGotCode = false;  // æ˜¯å¦å·²è·å–éªŒè¯ç 
        // DOMå…ƒç´ è·å–
        const remainingTimesEl = document.getElementById('remainingTimes');
        const expireTimeEl = document.getElementById('expireTime');
        const smsCodeEl = document.getElementById('smsCode');
        const copyBtnEl = document.getElementById('copyBtn');
        const phoneInputEl = document.getElementById('phoneInput');
        const getPhoneBtnEl = document.getElementById('getPhoneBtn');

        /**
         * 1. è®¾ç½®åŠ¨æ€åˆ°æœŸæ—¶é—´ï¼ˆå½“å‰æ—¶é—´+1åˆ†é’Ÿï¼‰
         */
        function setDynamicExpireTime() {
            const now = new Date();
            now.setMinutes(now.getMinutes() + 1); // æ—¶é—´åŠ 1åˆ†é’Ÿ
            // æ ¼å¼åŒ–æ—¶é—´ï¼ˆè¡¥é›¶å¤„ç†ï¼‰
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hour = String(now.getHours()).padStart(2, '0');
            const minute = String(now.getMinutes()).padStart(2, '0');
            const second = String(now.getSeconds()).padStart(2, '0');
            // èµ‹å€¼åˆ°é¡µé¢
            expireTimeEl.textContent = `åˆ°æœŸæ—¶é—´ ${year}/${month}/${day} ${hour}:${minute}:${second}`;
        }
        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
        setDynamicExpireTime();

        /**
         * 2. ç‚¹å‡»â€œè·å–/æ›´æ¢â€æŒ‰é’®äº‹ä»¶
         */
        getPhoneBtnEl.addEventListener('click', function() {
            // å·²è·å–è¿‡æ‰‹æœºå·ï¼Œæ‹¦æˆªæ“ä½œ
            if (hasGotPhone) {
                alert('ä»…å¯è·å–ä¸€æ¬¡æ‰‹æœºå·');
                return;
            }
            // ç”Ÿæˆéšæœºæ‰‹æœºå·ï¼ˆ138å¼€å¤´ï¼‰
            const mockPhone = '138' + Math.floor(Math.random() * 100000000);
            phoneInputEl.value = mockPhone;
            hasGotPhone = true;

            // å‰©ä½™æ¬¡æ•°æ”¹ä¸º0
            remainingTimesEl.textContent = 'å‰©ä½™æ¬¡æ•° 0';

            // ç¦ç”¨è·å–æŒ‰é’®ï¼ˆå˜ç°ï¼‰
            getPhoneBtnEl.disabled = true;
            getPhoneBtnEl.style.backgroundColor = '#999';

            // ç”Ÿæˆå¹¶å¡«å……éªŒè¯ç 
            if (!hasGotCode) {
                const randomCode = Math.floor(100000 + Math.random() * 900000); // 6ä½éšæœºæ•°
                smsCodeEl.textContent = randomCode;
                hasGotCode = true;
                // å¯ç”¨å¤åˆ¶æŒ‰é’®
                copyBtnEl.style.backgroundColor = '#3674ff';
                copyBtnEl.style.cursor = 'pointer';
                // æç¤ºç”¨æˆ·
                alert('éªŒè¯ç å·²å‘é€ï¼Œä»…å¯è·å–ä¸€æ¬¡');
            }
        });

        /**
         * 3. ç‚¹å‡»â€œå¤åˆ¶éªŒè¯ç â€æŒ‰é’®äº‹ä»¶
         */
        copyBtnEl.addEventListener('click', function() {
            // æœªè·å–éªŒè¯ç ï¼Œæ‹¦æˆªæ“ä½œ
            if (!hasGotCode) {
                alert('è¯·å…ˆè·å–æ‰‹æœºå·ä¸éªŒè¯ç ');
                return;
            }
            // å¤åˆ¶éªŒè¯ç åˆ°å‰ªè´´æ¿
            navigator.clipboard.writeText(smsCodeEl.innerText)
                .then(() => {
                    alert('éªŒè¯ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                })
                .catch(err => {
                    console.error('å¤åˆ¶å¤±è´¥ï¼š', err);
                    alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©');
                });
        });

        /**
         * 4. ç‚¹å‡»æ‰‹æœºå·è¾“å…¥æ¡†ï¼ˆå¤åˆ¶æ‰‹æœºå·ï¼‰
         */
        phoneInputEl.addEventListener('click', function() {
            const phone = this.value;
            // æœ‰æ‰‹æœºå·ä¸”å·²è·å–ï¼Œæ‰§è¡Œå¤åˆ¶
            if (phone && hasGotPhone) {
                navigator.clipboard.writeText(phone)
                    .then(() => {
                        alert('æ‰‹æœºå·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                    })
                    .catch(err => {
                        console.error('å¤åˆ¶æ‰‹æœºå·å¤±è´¥ï¼š', err);
                    });
            }
        });
    </script>
</body>
</html>